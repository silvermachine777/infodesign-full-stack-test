<ngb-alert *ngIf="showErrorMessage && (!fechaInicial || !fechaFinal)"type="danger" class="error-message">
  Por favor, seleccione la fecha inicial y la fecha final.
</ngb-alert>

<section id="report">
  <h1>Historicos de consumos</h1>
  <ul ngbNav #nav="ngbNav" class="nav-tabs">
    <li [ngbNavItem]="1">
      <button ngbNavLink (click)="getHistoricConsumptionByTranches()">
        Histórico Consumos por Tramos
      </button>
      <ng-template ngbNavContent>
        <app-loader *ngIf="loading"></app-loader>
        <app-table [data]="tranchesData"></app-table>
      </ng-template>
    </li>
    <li [ngbNavItem]="2">
      <button ngbNavLink (click)="getHistoricConsumptionByClient()">Histórico Consumos por Cliente</button>
      <ng-template ngbNavContent>
        <app-loader *ngIf="loading"></app-loader>
        <app-table [data]="clientData"></app-table>
      </ng-template>
    </li>
    <li [ngbNavItem]="3">
      <button ngbNavLink (click)="getTop20()">Top 20 Peores Tramos/Cliente</button>
      <ng-template ngbNavContent>
        <app-loader *ngIf="loading"></app-loader>
        <app-table [data]="top20Data"></app-table>
      </ng-template>
    </li>
  </ul>

  <div [ngbNavOutlet]="nav" class="mt-2"></div>

</section>